{% extends 'global/layout_form.html.twig' %}

{% set titlePage = 'page.empleados.title.hour' | trans %}
{% set menu = 'empleados' %}
{% set pathCancel = path('empleados_list') %}

{% block formContent %}
    <div class="znv-half">
        {{ form_row(form.empleado) }}
    </div>
    <div class="znv-half">
        {{ form_row(form.area) }}
    </div>
    <div class="znv-half">
        {{ form_row(form.fecha) }}
    </div>
    <div class="znv-half">
        {{ form_row(form.numero) }}
    </div>    

    {# ## JQuery ## #}
    <script>        
        $(document).ready(function() {
            $('#save_hour_area').on('change', function(e) {
                var selectedArea = $(this).val();

                console.log('Area: ' + selectedArea)
                if (selectedArea) {
                    loadAreaProperties(selectedArea);              
                }
                
            });
        })

        function loadAreaProperties(areaId) {
            if (areaId != null){                
                 $.ajax({
                url: "{{ path('ajax_form_area') }}" + '/' + areaId,
                type: "GET",
                success: function (data) {
                    console.log(data)
                    //$('#loadVarietiesByProduct').remove();
                    //$('.js-select-variety').append(data).show();
                    },
                    error: function (err) {
                    alert("An error ocurred while loading data ...");
                }
            });
            }
           
        }
    </script>
{% endblock %}
